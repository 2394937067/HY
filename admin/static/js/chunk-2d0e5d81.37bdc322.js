(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e5d81"],{"95e4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"category"},[a("h2",[e._v("栏目管理")]),e._v(" "),a("div",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.toAddHandler}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.batchDeleteHandler}},[e._v("批量删除")])],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.closeModal}},[a("el-form",{ref:"categoryForm",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"栏目名称","label-width":"80px",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"序号","label-width":"80px",prop:"num"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.num,callback:function(t){e.$set(e.form,"num",t)},expression:"form.num"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.closeModal}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.submitHandler}},[e._v("确 定")])],1)],1),e._v(" "),a("el-table",{attrs:{data:e.categories.list,size:"small"},on:{"selection-change":e.idsChangeHandler}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"栏目名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"序号",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.deleteHandler(t.row.id)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit-outline",circle:""},on:{click:function(a){return e.editHandler(t.row)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-view",circle:""},on:{click:function(a){return e.toDetailsHandler(t.row)}}})]}}])})],1),e._v(" "),a("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.params.page+1,"page-size":e.categories.pageSize,total:e.categories.total},on:{"current-change":e.pageChangeHandler}})],1)},s=[],i=(a("efce"),a("4634"),a("ed8b"),a("f498")),n=a("52c1");a("d0c1");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={data:function(){return{params:{page:0,pageSize:5,name:""},ids:[],form:{},rules:{name:[{required:!0,message:"请输入栏目名称",trigger:"blur"}],num:[{required:!0,message:"请输入序号",trigger:"blur"}]}}},created:function(){this.findAllCategories(this.params)},computed:l({},Object(n["e"])("category",["categories","visible","title"]),{},Object(n["c"])("category",["countCategories","categoryStatusFilter"])),methods:l({},Object(n["b"])("category",["findAllCategories","deleteCategoryById","saveOrUpdateCategory","batchDeleteCategory"]),{},Object(n["d"])("category",["showModal","closeModal","setTitle"]),{toDetailsHandler:function(e){this.$router.push({path:"/category/details",query:{id:e.id}})},batchDeleteHandler:function(){var e=this;this.batchDeleteCategory(this.ids).then((function(t){e.$message({type:"success",message:t.statusText})})),this.findAllCategories(this.params)},idsChangeHandler:function(e){this.ids=e.map((function(e){return e.id}))},dialogCloseHandler:function(){this.$refs.categoryForm.clearValidate()},toAddHandler:function(){this.form={},this.setTitle("添加栏目信息"),this.showModal()},submitHandler:function(){var e=this;this.$refs.categoryForm.validate((function(t){if(!t)return!1;e.saveOrUpdateCategory(e.form).then((function(t){e.$message({type:"success",message:t.statusText})}))})),this.findAllCategories(this.params)},deleteHandler:function(e){var t=this,a=this.deleteCategoryById(e);a.then((function(e){t.$message({type:"success",message:e.statusText}),t.findAllCategories(t.params)}))},editHandler:function(e){this.form=e,this.setTitle("修改栏目信息"),this.showModal()},pageChangeHandler:function(e){this.params.page=e-1,this.findAllCategories(this.params)}})},u=c,d=a("4e82"),p=Object(d["a"])(u,r,s,!1,null,"40a7c301",null);t["default"]=p.exports}}]);